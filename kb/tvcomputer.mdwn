## Building a Freevo TV Computer

Getting a TV card working under linux is still a royal PITA, so I tend to steer
clear. Most media I wish to watch is a available elsewhere anyway, so I'm
mostly interested in a system for playing media files off a networked file
server.

My setup is running on a reasonably dated [VIA EPIA motherboard](http://www.via.com.tw/en/products/mainboards/motherboards.jsp?motherboard_id=21).
It has enough grunt to play music and most of my media, so it'll do. It
currently has 256MB of RAM and a laptop harddrive using an IDE converter.

## Debian

Debian Etch was installed from a USB stick. I'm assuming this has already been performed.

Create a freevo user and give it appropriate permissions

    adduser freevo
    adduser freevo cdrom
    adduser freevo video 
    adduser freevo audio

## Freevo

Instructions are available [here](http://freevo.sourceforge.net/cgi-bin/doc/FreevoAptDebian). 

Summary:

    deb http://debian.geole.info/ etch main contrib non-free
    aptitude update
    aptitude install freevo

## Autologin

Instructions based on those found [here](http://knowledge76.com/index.php/Freevo_Media_Center) and [here](http://www.mythtv.org/wiki/index.php/Installing_MythTV_on_Debian_Etch).

    aptitude install rungetty

Edit /etc/inittab, and change this line 

    1:2345:respawn:/sbin/getty 38400 tty1

to this:

    7:2:respawn:/sbin/rungetty tty1 --autologin freevo

## Start xorg automatically

edit /home/freevo/.bash_profile and add these lines:

    if [ -z "$DISPLAY" ] && [ $(tty) == /dev/tty1 ]; then
    while [ 1 == 1 ]
      do
        startx
        sleep 10
      done
    fi

## Start Freevo automatically

edit /home/freevo/.xinitrc

    exec irexec &
    exec xset s off &
    exec fluxbox & wmpid=$!
    exec mythfrontend 2>> /home/mythtv/MYTHERRORS &
    wait $wmpid

alternatively, this might work too: edit /home/freevo/.xsession

    # turn off screen blanking
    /usr/bin/X11/xset s off
    /usr/bin/X11/xset -dpms
    #
    # allow local user access to windows
    /usr/bin/X11/xhost +local:
    #
    # make blue bars black
    /usr/bin/xvattr -a XV_COLORKEY -v 0
    #
    # showtime
    /usr/bin/X11/xsetroot -solid "#000000" &
    /usr/bin/unclutter -idle 1 &
    #xterm -font 9x15
    /usr/bin/freevo

    chmod +x /home/freevo/.xsession
