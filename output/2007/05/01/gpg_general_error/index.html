<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
  <head>
    <title>yob.id.au: GPG General Error</title>
    <link rel="alternate" type="application/atom+xml" title="Atom" href="/atom/index.xml" />
    <style type="text/css" media="screen">
      * {
        margin: 0;
        padding: 0;
      
        font-family: Georgia, Palatino, Times, 'Times New Roman', sans-serif;
      }
      
      body {
        background: #fff;
      }
      
      a {
        text-decoration: none;
      }
      
      a:link,
      a:visited {
        color: #f30;
      }
      
      a:hover {
        color: #f90;
      }
      
      #main {
        position: absolute;
      
        top: 20px;
        left: 280px;
      
        width: 500px;
      }
      
      #main h1 {
        font-size: 40px;
        font-weight: normal;
      
        line-height: 40px;
      
        padding: 20px 0 20px 0;
      
        letter-spacing: -1px;
      }
      
      #main p {
        margin: 0 0 20px 0;
        
        font-size: 15px;
        
        line-height: 20px;
      }
      
      #main ul {
        padding: 0 0 0 20px;
      }
      
      #main li {
        margin: 0 0 20px 0;
      
        list-style-type: square;
      
        font-size: 15px;
        
        line-height: 20px;
      }
      
      #sidebar {
        position: absolute;
      
        top: 40px;
        left: 20px;
        width: 200px;
      
        padding: 20px 20px 0 0;
      
        border-right: 1px solid #ccc;
      
        text-align: right;
      }
      
      #sidebar h2 {
        text-transform: uppercase;
      
        font-size: 13px;
      
        color: #333;
      
        letter-spacing: 1px;
      
        line-height: 20px;
      }
      
      #sidebar ul {
        list-style-type: none;
      
        margin: 20px 0;
      }
      
      #sidebar li {
        font-size: 14px;
      
        line-height: 20px;
      }
    </style>
  </head>
  <body>
    <div id="main">
      <h1>GPG General Error</h1>
<p>I've never been able to refresh all the keys in the GPG keyring stored on my Xen host with rimuhosting.com, only ever managing to get the following cryptic output:</p>

<pre><code>jh@gir:~$ gpg --refresh
gpg: keyserver communications error: general error
gpg: WARNING: unable to refresh key C8692763 via hkp://subkeys.pgp.net: general error
gpg: keyserver communications error: general error
gpg: WARNING: unable to refresh key C6B3AE7E via hkp://subkeys.pgp.net/: general error
gpg: keyserver communications error: general error
gpg: WARNING: unable to refresh key 4B729625 via hkp://keyring.debian.org: general error
gpg: keyserver communications error: general error
gpg: WARNING: unable to refresh key B83D761C via hkp://keyserver.kjsl.com:11371: general error
gpg: keyserver communications error: general error
gpg: WARNING: unable to refresh key 6D67F790 via hkp://keyring.debian.org: general error
gpg: keyserver communications error: general error
gpg: WARNING: unable to refresh key 8F068012 via hkp://wwwkeys.us.pgp.net: general error
gpg: keyserver communications error: general error
gpg: WARNING: unable to refresh key 6E25E283 via hkp://pgpkeys.mit.edu: general error
gpg: keyserver communications error: general error
gpg: WARNING: unable to refresh key 6538F5BF via http://keyserver.debian.org: general error
gpg: keyserver communications error: general error
gpg: WARNING: unable to refresh key 5706A4B4 via hkp://subkeys.pgp.net: general error
gpg: keyserver communications error: general error
gpg: WARNING: unable to refresh key 330C4A75 via x-hkp://subkeys.pgp.net: general error
gpg: keyserver communications error: general error
gpg: WARNING: unable to refresh key 46399138 via http://quiston.tpsa.com/crypto/0x46399138.asc: general error
gpg: keyserver communications error: general error
gpg: WARNING: unable to refresh key 3FD25C84 via hkp://keyring.debian.org: general error
gpg: refreshing 1095 keys from hkp://subkeys.pgp.net
gpg: keyserver communications error: general error
gpg: keyserver refresh failed: general error
</code></pre>

<p>For future reference, it appears that the refresh function requires a surprisingly large chunk of memory to operate, and on my low memory VPS it wasn't able to get enough. Temporarily stopping some memory hungry processes while I ran the refresh worked like a charm.</p>

<p>Instead of providing a nice message explaining the issue we're given a cryptic "general error", so I've filed a <a href="https://bugs.g10code.com/gnupg/issue790">wishlist bug</a> in the gnupg bug tracker.</p>
    </div>
    <div id="sidebar">
      <h2>Pages</h2>
      <ul>
        <li><a href="/">home</a></li>
        <li><a href="/archive">archive</a></li>
        <li><a href="/about">about</a></li>
      </ul>
      <h2>Syndication</h2>
      <ul>
        <li><a href="/atom/index.xml">atom</a></li>
      </ul>
    </div>
  </body>
</html>
