<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
  <head>
    <title>yob.id.au: Telstra NextG and Linux</title>
    <link rel="alternate" type="application/atom+xml" title="Atom" href="/atom/index.xml" />
    <style type="text/css" media="screen">
      * {
        margin: 0;
        padding: 0;
      
        font-family: Georgia, Palatino, Times, 'Times New Roman', sans-serif;
      }
      
      body {
        background: #fff;
      }
      
      a {
        text-decoration: none;
      }
      
      a:link,
      a:visited {
        color: #f30;
      }
      
      a:hover {
        color: #f90;
      }
      
      #main {
        position: absolute;
      
        top: 20px;
        left: 280px;
      
        width: 500px;
      }
      
      #main h1 {
        font-size: 40px;
        font-weight: normal;
      
        line-height: 40px;
      
        padding: 20px 0 20px 0;
      
        letter-spacing: -1px;
      }
      
      #main p {
        margin: 0 0 20px 0;
        
        font-size: 15px;
        
        line-height: 20px;
      }
      
      #main ul {
        padding: 0 0 0 20px;
      }
      
      #main li {
        margin: 0 0 20px 0;
      
        list-style-type: square;
      
        font-size: 15px;
        
        line-height: 20px;
      }
      
      #sidebar {
        position: absolute;
      
        top: 40px;
        left: 20px;
        width: 200px;
      
        padding: 20px 20px 0 0;
      
        border-right: 1px solid #ccc;
      
        text-align: right;
      }
      
      #sidebar h2 {
        text-transform: uppercase;
      
        font-size: 13px;
      
        color: #333;
      
        letter-spacing: 1px;
      
        line-height: 20px;
      }
      
      #sidebar ul {
        list-style-type: none;
      
        margin: 20px 0;
      }
      
      #sidebar li {
        font-size: 14px;
      
        line-height: 20px;
      }
    </style>
  </head>
  <body>
    <div id="main">
      <h1>Telstra NextG and Linux</h1>
<p>Until recently, I was a happy occasional user of a coworkers Telstra NextG card
on my Linux (Debian Unstable) laptop, thanks to this very <a href="http://quozl.linux.org.au/bp3-usb/">accurate
guide</a>. The card I'm using is a PCCARD,
Sierra Wireless Aircard 875, but the basic principles in that guide still apply.</p>

<p>When you insert the card, 3 serial ports should be added to the machine:</p>

<ul>
<li>/dev/ttyUSB0 - the port to open the ppp connection over</li>
<li>/dev/ttyUSB1 - for propriety command and control access, currently unsupported and unneeded.</li>
<li>/dev/ttyUSB2 - command and control port that accepts standard AT commands</li>
</ul>

<p>The connection software my co-worker uses with the card in Windows recently prompted him
to update the firmware to get snazzy 7.5mbs downlink speeds. Unfortunately it also seemed
to change the initialisation procedures for the card, preventing my previously
fine setup under Linux from working. The radio is no longer enabled by default,
so no ppp connection on ttyUSB0 was possible.</p>

<p>To enable the radio, connect to ttyUSB2 with a serial terminal (like gtkTerm), and run the
following command:</p>

<pre><code>at+cfun=1
</code></pre>

<p>This should enable the blue radio light on the card, and turn the 3g light to orange, which 
indicates it is connected to the network, but not authenticated.</p>

<p>To check the card status, use:</p>

<pre><code>at!gstatus?
</code></pre>

<p>And to check the signal strength, use (a value of 7 or more should be adequate):</p>

<pre><code>at+csq
</code></pre>

<p>The guide above suggests using the phone number "*99#" to connect. This generally
is fine, as it selects the default profile. Unfortunately the firmware upgrade also moves
the telstra settings to profile 2. To view both profiles, use: </p>

<pre><code>at+cgdcont?
</code></pre>

<p>Check the APN value for profile 2, and setup profile 1 using something like:</p>

<pre><code>at+cgdcont=1,"IP","telstra.bigpond"
</code></pre>

<p>It's possible your APN will be something other than telstra.bigpond, so make sure you copy the 
correct value from profile 2.</p>

<p>With all that done, the guide by Quozl should work as expected.</p>

<h2>Further Reading</h2>

<p>Most of this information was gleamed from <a href="http://www.sierrawireless.com/faq/ShowFAQ.aspx?ID=1087">a guide</a> available on the Sierra website</p>
    </div>
    <div id="sidebar">
      <h2>Pages</h2>
      <ul>
        <li><a href="/">home</a></li>
        <li><a href="/archive">archive</a></li>
        <li><a href="/about">about</a></li>
      </ul>
      <h2>Syndication</h2>
      <ul>
        <li><a href="/atom/index.xml">atom</a></li>
      </ul>
    </div>
  </body>
</html>
